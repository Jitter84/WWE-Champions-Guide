{"version":3,"sources":["webpack:///webpack/bootstrap 024b386be9354a736d07?4f09***********","webpack:///./assets/js/gb-calc.js"],"names":["$","document","ready","blitzData","blitzDifficultyData","init","first","attr","on","updateUI","val","getJSON","data","Difficulty","fail","alert","getBlitzData","difficulty","length","toLowerCase","i","thisBlitzData","FightCardLowestTalentMod","FightCardModifierAdjustment","Quests","e","preventDefault","serializeArray","reduce","obj","item","name","value","values","parseInt","parseFloat","talents","prevTalent","Talent","talent","calculateTalent","push","Name","printResults","tableElement","append","tbodyElement","find","forEach","empty","index","averageTalent","result","highestTalentModifier","indexModifier"],"mappings":"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","file":"js/gb-calc.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2983);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 024b386be9354a736d07","$(document).ready(function () {\n  var blitzData = [];\n  var blitzDifficultyData = {};\n  init();\n\n  function init() {\n    $('input[name=\"difficulty\"]').first().attr('checked', 'checked');\n    $('input[name=\"difficulty\"]').on('change', function() {\n      updateUI($(this).val());\n    });\n    $.getJSON('/db/misc/gb-info.json', function(data){\n      blitzData = data;\n      updateUI(blitzData[0].Difficulty);\n    })\n    .fail(function() {\n      alert(\"error\");\n    });\n  }\n\n  function getBlitzData(difficulty) {\n    if (!blitzData || blitzData.length <= 0)\n      return false;\n\n    difficulty = difficulty.toLowerCase();\n    for (var i in blitzData) {\n      var thisBlitzData = blitzData[i];\n      if (thisBlitzData.Difficulty.toLowerCase() == difficulty) {\n        return thisBlitzData;\n      }\n    }\n  }\n\n  function updateUI(difficulty) {\n    blitzDifficultyData = getBlitzData(difficulty);\n    if (!blitzDifficultyData) {\n      alert(\"error no data\");\n    }\n    $('input[name=\"lowestTalentModifier\"]').val(blitzDifficultyData.FightCardLowestTalentMod);\n    $('input[name=\"modifierAdjustment\"]').val(blitzDifficultyData.FightCardModifierAdjustment);\n    $('input[name=\"opponentsNumber\"]').val(blitzDifficultyData.Quests.length);\n  }\n\n  $('#gbCalcForm').on('submit', function(e) {\n    e.preventDefault();\n\n    var data = $(this).serializeArray().reduce(function(obj, item) {\n      obj[item.name] = item.value;\n      return obj;\n    }, {});\n\n    var values = {\n      'highestTalent': data[\"highestTalent\"] ? parseInt(data[\"highestTalent\"]) : 0,\n      'totalTalent': data[\"totalTalent\"] ? parseInt(data[\"totalTalent\"]) : 0,\n      'filledSlots': data[\"filledSlots\"] ? parseInt(data[\"filledSlots\"]) : 0,\n      'totalOpponents': data[\"opponentsNumber\"] ? parseInt(data[\"opponentsNumber\"]) : 0,\n      'lowestTalentModifier': data[\"lowestTalentModifier\"] ? parseFloat(data[\"lowestTalentModifier\"]) : 0,\n      'modifierAdjustment': data[\"modifierAdjustment\"] ? parseFloat(data[\"modifierAdjustment\"]) : 0\n    };\n\n    var talents = [];\n    for (var i = 1; i <= values['totalOpponents']; i++) {\n      var prevTalent = 0;\n      if (i > 1) {\n        prevTalent = talents[talents.length-1].Talent;\n      }\n      var talent = calculateTalent(values, prevTalent, i);\n      talents.push({\n        'Name': blitzDifficultyData.Quests[i-1].Name ? blitzDifficultyData.Quests[i-1].Name : \"N/A\",\n        'Talent': talent\n      });\n    }\n    printResults(talents);\n  });\n\n  function printResults(talents) {\n    var tableElement = $('<table/>', {'class': 'table'})\n    .append(\n      $('<colgroup/>')\n      .append(\n        $('<col/>', {'span': '1', 'style': 'width: 15%;'})\n      )\n      .append(\n        $('<col/>', {'span': '1', 'style': 'width: 65%;'})\n      )\n      .append(\n        $('<col/>', {'span': '1', 'style': 'width: 20%;'})\n      )\n    )\n    .append(\n      $('<thead/>')\n      .append(\n        $('<tr/>')\n        .append(\n          $('<th/>', {'text': 'No.'})\n        )\n        .append(\n          $('<th/>', {'text': 'Opponent'})\n        )\n        .append(\n          $('<th/>', {'text': 'Talent'})\n        )\n      )\n    )\n    .append(\n      $('<tbody/>')\n    );\n\n    var tbodyElement = tableElement.find('tbody');\n    talents.forEach(function(talent, i){\n      tbodyElement.append(\n        $('<tr/>')\n        .append(\n          $('<td/>', {'text': parseInt(i+1)})\n        )\n        .append(\n          $('<td/>', {'text': talent.Name})\n        )\n        .append(\n          $('<td/>', {'text': parseInt(talent.Talent)})\n        )\n      );\n    });\n\n    $(\"#talentResults\").empty();\n    $(\"#talentResults\").append(tableElement);\n  }\n\n  function calculateTalent(values, prevTalent, index) {\n    var averageTalent = values['totalTalent'] / values['filledSlots'];\n    var result = 0;\n\n    if (index <= 1) {\n      result = averageTalent * values['lowestTalentModifier'];\n    } else {\n      var highestTalentModifier = 1 + (values['highestTalent'] - averageTalent) / values['highestTalent'];\n      var indexModifier = index / values['totalOpponents'];\n      result = highestTalentModifier * indexModifier * (0.5 * (averageTalent + values['highestTalent'])) * values['modifierAdjustment'] + prevTalent;\n    }\n\n    return result;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/gb-calc.js"],"sourceRoot":""}